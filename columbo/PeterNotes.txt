

 * rather than hard-coding 'ssh ....' everywhere
   better to have a config setting, like:
         remote_shell='ssh -i Chosen_key -p 2200' 

   because not all ssh configs are normal (above uses port 2200 and Chosen_key)
   instead of default, and why force use of a default key which has no 
   password, and might be exposed to outside?  Some environments
   might even use something other than ssh (rsh or something else?)

   (if someone can ssh in from the backend, someone can also ssh in from outside,
    if the user name is pretty guessable, like px or pds, then not having a 
    passphrase is one less obstacle to getting hacked.)

 * Why are some paths in the config files, but others hard coded all over
   the place. path names should either be calculated from a few bases,
   or all in configuraiton files.   As it is, there is no way to move
   this mess.

   file tree is very painful, more so, because I need to go all over it
   to fix stuff (looking for python2 in at least ten directories.) this
   is way more complicated than it should be, why so many directories with
   only one script in them?... 

        normally -- bin/lib/tools/ are installed by root, and read or execute
                    only for those executing things.
                    for example, could be on a read-only device like a CDROM.
        normally -- /var is writable by those executing.
        normally -- etc/ is writable by those configuring (not necessarily
                    the same as either of the above.)
	normally,  lib/bin/tools are directories with binaries in them,
        so they should belong to bin.bin or root, or some such, but
        the nesting and nesting and nesting drives me nuts.
        now we have logs inside tools... FHS no-no...

	One is not allowed to nest packages: ie...
		/apps/pds/tools/Columbo/xxx/log
	the correct way to do this would be...
		/apps/pds/logs/tools/columbo/....

        I'm guessing it was done that way because on the HP PDS's, long 
        ago, the mount point was /apps/pds, and not /apps?  at any rate,
	if ought to change now...

        need to decide, high up in the tree what sort of directory it is.
        cannot set permissions sanely otherwise.
        (ie... px should not be able to write in tools.)
        if you want to do package encapsulation, that's fine, but
        then it goes in /opt (/apps is ok too.), and not nested. ie...
        /apps/Columbo/logs
		but even here, it is not ok to nest two or three levels
	        down to get to log files... ie.
		/apps/Columbo/logs/*Scene/   is good. 
				   *Show/
                                   *Room/
			      bin/...
			
                but...
		/apps/Columbo/*Scene/log  is wrong.
                                     bin/
	                             ...
                              *Show/log
			      *Room/log

        most direct reference is the Debian FHS.  I cannot find 
        other references... 

	Realistically, it would be far less confusing just to collapse 
        this into a single tree with bin/ and a single lib/ and be
        done with it. I know they run different places, but realistically,
        they use the same lib, so the actual space wasted by having
        extra unused routines is almost 0.

	Something ready for Debian FHS compliance would be...

        export PXROOT=/apps/columbo
	/apps/columbo/
                     log/
			 various shows etc...
                     etc/
                        
	             bin/
			with all the bins.
		     lib/
		        Columbo/
		            www/ -- for web oriented stuff.
                               html/  
		               scripts/ 
         
			symlink from /var/www into html during install.
			make name of scripts columbo-bin/ --> scripts/


User names, very confused..
     - need to differentiate.  Who owns the files installed.
         (should be bin or root for a normal installation.)
     - who runs the cron jobs... (px for px, pds for pds.)
     - what the http server runs as. 

     need to think about it.
     * Hmm... maybe can get around most of the sudoer stuff if install 
       cgiwrap package?  run cgi's as user px or pds. hmm...
       http://cgiwrap.sourceforge.net/faq.html.  
    
     * I'm just doing random greps, but there does not seem to be anyway to change 
       the paths in there. could be missing something but it looks hardwired to 
       /apps/pds/<etc...> does it respect PXROOT?  need to understand paths needed.
       
    	  in /apps; ln -s px pds
              into the subversion checkout in tools... did:
    `         ln -s ../../columbo Columbo
    
     * http can run as lots of people... it is even configurable on installation.
       So I just made ls
    
     * It does not indicate that there is a scripts directory needed,
       nor which one in the package it is needs to be. 
       nor the path... I got it to work by setting scripts to point to
       Tried three directtories befor hitting the right one.... 

        ScriptAlias /scripts/ /apps/pds/tools/Columbo/ColumboShow/lib/
        <Directory "/apps/pds/tools/Columbo/ColumboShow/lib">
                AllowOverride None
                Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
                Order allow,deny
                Allow from all
        </Directory>

        now I juse have 'Premature end of script headers'...
         
        OK ... 
-bash: ./pdsClientsTab.py: /usr/bin/python2: bad interpreter: No such file or directory
        invoking manually...
/apps/pds/tools/Columbo/ColumboInvestigationRoom/lib/ColumboInvestigationRoom.py PX
Traceback (most recent call last):
  File "/apps/pds/tools/Columbo/ColumboInvestigationRoom/lib/ColumboInvestigationRoom.py", line 72, in ?
    config.readfp(open(FULL_MAIN_CONF)) # Configuration file MUST be there
  File "/usr/lib/python2.4/ConfigParser.py", line 286, in readfp
    self._read(fp, filename)
  File "/usr/lib/python2.4/ConfigParser.py", line 462, in _read
    raise MissingSectionHeaderError(fpname, lineno, line)
ConfigParser.MissingSectionHeaderError: File contains no section headers.
file: /apps/pds/tools/Columbo/etc/Columbo.conf, line: 3
'* necessary on the # machine from which CIR is run)\n'
            
   -- it is complaining that the config file is missing, but it is there.
   -- it says 'file contains no section headers' but it does.
   -- it says '* necessary on the # machine ...' 
   -- I took a copy of the sample config, I assume for sample is out of
      sync...

give up at this point... way too hard...
   



 * It would be far simpler to have a single 'columbo' package,
   and let configuration say the roles a given node plays.

 * the words FRONT and BACK mean absolutely nothing.  We cannot count
   on folks using a PXA.  Even within the PXA, I suspect that pxatx is
   a BACK, wheras in normal PXA terminology, it would be a FRONT.
   to run on my laptop standalone, do I run install.py -t FRONT ? 
   or BACK? or both?

   three roles would be much clearer if they were descriptive:
	-- monitored_px_host
	-- monitored_pds_host
	-- data_collector_presenter

   do I have them right?

   the package should work so that one machine can be all three, 
   or only one.


