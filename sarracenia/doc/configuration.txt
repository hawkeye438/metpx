

------------ pxpush, built in? ---------------------------------
use amqp to push config changes around.


there are admin exchanges... no sources can post to them.
only admin users can.

dd-admin Alice stop.
	sends a v01.admin.<source>.stop  message around and admin bus.
			-- stop ingesting messages coming from <source> 
			-- likely implemented in validation code.
			-- default scope will be cluster-wide (all of ddsr)
			-- option to go multi-cluster?

           once the stop is processed on a node, emit:
		v01.log.Alice.admin.stopped ...
			-- and the source will hear about it!
			-- there will be a log message for each node on which it occurred.
	
		v01.admin.<client>.drop
			-- drop messages coming from <client> 
			  (if there is a DOS or a they have a problem.)



------------ pxpush, built in? ---------------------------------



------------------- command line arguments and config files -----------------------------
low priority...


This is a problem to be addressed after the basic proof of concept is demonstrated.

MetPX-sundew runs as an administrator configured tool.  having configurations entirely 
in configuration files makes sense for that.  
We have positional significance (config file options apply from top down in file.)

MetPX-sarracenia, is intended to be more user facing and interactive.
User facing commands ought to have robust command line parsing.

dd-subscribe and dd-post, might be candidates for this.

How to do this is not obvious...

It would appear that optparse, want to do it elegantly.


read options from 

	$DD_ROOT (default if not present, /etc/dd/ )
	~/.dd
	.dd
	commandline

have them work together.

Don't want to change the config file format... hmm.. maybe we should...
lot's of work here.

what's wrong with argparse?
	- no ordering 
	- cannot repeat arguments

so if you want to have similar to:

	reject ^x.z
	reject ^x.w
	accept ^x

	accept ^z.
	
then you don't ...
so it looks like it is just incompatible.  maybe just have a series of keywords on the command line 
with a line separator?

dd-subscribe directives='directory /home/cc;reject ^x.z;reject ^x.w;accept ^x;accept ^z;'

have to deal with escaping the separator, then just split on ; and run 
it through the same parser?

I dunno, it looks so complicated, that maybe it just isn't worth it, and stick with
just the config file.

need to look at all the config options needed, the URL notation saves a lot.
------------------- command line arguments and config files -----------------------------




